{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  data() {\n    return {\n      patient: {\n        patientGender: \"male\"\n      },\n      emailError: \"\",\n      jsonData: null\n    };\n  },\n  methods: {\n    submitForm() {\n      if (!this.isValidEmail()) {\n        this.emailError = \"Please enter a valid email address.\";\n        return;\n      }\n      const patientData = {\n        resourceType: \"Patient\",\n        name: [{\n          use: \"official\",\n          family: this.patient.patientFamily,\n          given: [this.patient.patientGiven]\n        }],\n        gender: this.patient.patientGender,\n        birthDate: this.patient.patientBirthDate,\n        telecom: [{\n          value: this.patient.patientPhone,\n          use: \"mobile\",\n          system: \"phone\"\n        }, {\n          system: \"email\",\n          value: this.patient.patientEmail\n        }],\n        address: [{\n          line: [this.patient.patientAddress],\n          city: \"New York\",\n          state: \"New York\",\n          postalCode: \"1245355\"\n        }]\n      };\n      this.jsonData = JSON.stringify(patientData, null, 2);\n\n      // Send POST request to FHIR server\n      axios.post(\"http://hapi.fhir.org/baseR4/Patient\", patientData).then(response => {\n        console.log(\"Successfully posted data:\", response.data);\n        this.patient = {\n          patientGender: \"male\"\n        };\n      }).catch(error => console.error(\"Error posting data:\", error));\n\n      // Reset error message after successful submission\n      this.emailError = \"\";\n    },\n    isValidEmail() {\n      // Basic email validation\n      const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n      return emailPattern.test(this.patient.patientEmail);\n    },\n    clearEmailError() {\n      this.emailError = \"\";\n    }\n  }\n};","map":{"version":3,"names":["axios","data","patient","patientGender","emailError","jsonData","methods","submitForm","isValidEmail","patientData","resourceType","name","use","family","patientFamily","given","patientGiven","gender","birthDate","patientBirthDate","telecom","value","patientPhone","system","patientEmail","address","line","patientAddress","city","state","postalCode","JSON","stringify","post","then","response","console","log","catch","error","emailPattern","test","clearEmailError"],"sources":["C:\\xampp\\htdocs\\fhir_web_app\\fhir_web_app_frontend\\src\\components\\RegisterPatient.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"row mt-5\">\r\n      <div class=\"col-md-6\">\r\n        <div class=\"card\">\r\n          <div class=\"card-header\">\r\n            <h2 class=\"mb-4\">Patient Information Form</h2>\r\n          </div>\r\n          <form @submit.prevent=\"submitForm\">\r\n            <div class=\"card-body\">\r\n              <div class=\"form-group form-row row mt-3\">\r\n                <div class=\"col-4\">\r\n                  <label for=\"patientFamily\">Family Name:</label>\r\n                </div>\r\n                <div class=\"col\">\r\n                  <input\r\n                    v-model=\"patient.patientFamily\"\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    id=\"patientFamily\"\r\n                    name=\"patientFamily\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group form-row row mt-3\">\r\n                <div class=\"col-4\">\r\n                  <label for=\"patientGiven\">Given Name:</label>\r\n                </div>\r\n                <div class=\"col\">\r\n                  <input\r\n                    v-model=\"patient.patientGiven\"\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    id=\"patientGiven\"\r\n                    name=\"patientGiven\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group form-row row mt-3\">\r\n                <div class=\"col-4\">\r\n                  <label for=\"patientGender\">Gender:</label>\r\n                </div>\r\n                <div class=\"col\">\r\n                  <select\r\n                    v-model=\"patient.patientGender\"\r\n                    class=\"form-control\"\r\n                    id=\"patientGender\"\r\n                    name=\"patientGender\"\r\n                    required\r\n                  >\r\n                    <option value=\"male\">Male</option>\r\n                    <option value=\"female\">Female</option>\r\n                    <option value=\"other\">Other</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group form-row row mt-3\">\r\n                <div class=\"col-4\">\r\n                  <label for=\"patientBirthDate\">Birth Date:</label>\r\n                </div>\r\n                <div class=\"col\">\r\n                  <input\r\n                    v-model=\"patient.patientBirthDate\"\r\n                    type=\"date\"\r\n                    class=\"form-control\"\r\n                    id=\"patientBirthDate\"\r\n                    name=\"patientBirthDate\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group form-row row mt-3\">\r\n                <div class=\"col-4\">\r\n                  <label for=\"patientPhone\">Phone:</label>\r\n                </div>\r\n                <div class=\"col\">\r\n                  <input\r\n                    v-model=\"patient.patientPhone\"\r\n                    type=\"tel\"\r\n                    class=\"form-control\"\r\n                    id=\"patientPhone\"\r\n                    name=\"patientPhone\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group form-row row mt-3\">\r\n                <div class=\"col-4\"><label for=\"patientEmail\">Email:</label></div>\r\n                <div class=\"col\">\r\n                  <input\r\n                    v-model=\"patient.patientEmail\"\r\n                    type=\"email\"\r\n                    class=\"form-control\"\r\n                    id=\"patientEmail\"\r\n                    name=\"patientEmail\"\r\n                    required\r\n                    pattern=\"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}\"\r\n                    title=\"Enter a valid email address\"\r\n                    @input=\"clearEmailError\"\r\n                  />\r\n                  <div v-if=\"emailError\" class=\"text-danger\">{{ emailError }}</div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group form-row row mt-3\">\r\n                <div class=\"col-4\">\r\n                  <label for=\"patientAddress\">Address:</label>\r\n                </div>\r\n                <div class=\"col\">\r\n                  <textarea\r\n                    v-model=\"patient.patientAddress\"\r\n                    class=\"form-control\"\r\n                    id=\"patientAddress\"\r\n                    name=\"patientAddress\"\r\n                    rows=\"4\"\r\n                    required\r\n                  ></textarea>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"card-footer\">\r\n              <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-md-6\">\r\n        <div class=\"mt-4\">\r\n          <h2>Registered Doctor Information</h2>\r\n          <pre>{{ jsonData }}</pre>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      patient: {\r\n        patientGender: \"male\",\r\n      },\r\n      emailError: \"\",\r\n      jsonData: null,\r\n    };\r\n  },\r\n  methods: {\r\n    submitForm() {\r\n      if (!this.isValidEmail()) {\r\n        this.emailError = \"Please enter a valid email address.\";\r\n        return;\r\n      }\r\n\r\n      const patientData = {\r\n        resourceType: \"Patient\",\r\n        name: [\r\n          {\r\n            use: \"official\",\r\n            family: this.patient.patientFamily,\r\n            given: [this.patient.patientGiven],\r\n          },\r\n        ],\r\n        gender: this.patient.patientGender,\r\n        birthDate: this.patient.patientBirthDate,\r\n        telecom: [\r\n          {\r\n            value: this.patient.patientPhone,\r\n            use: \"mobile\",\r\n            system: \"phone\",\r\n          },\r\n          {\r\n            system: \"email\",\r\n            value: this.patient.patientEmail,\r\n          },\r\n        ],\r\n        address: [\r\n          {\r\n            line: [this.patient.patientAddress],\r\n            city: \"New York\",\r\n            state: \"New York\",\r\n            postalCode: \"1245355\",\r\n          },\r\n        ],\r\n      };\r\n\r\n      this.jsonData = JSON.stringify(patientData, null, 2);\r\n\r\n      // Send POST request to FHIR server\r\n      axios\r\n        .post(\"http://hapi.fhir.org/baseR4/Patient\", patientData)\r\n        .then((response) => {\r\n          console.log(\"Successfully posted data:\", response.data);\r\n          this.patient = {\r\n            patientGender: \"male\",\r\n          };\r\n        })\r\n        .catch((error) => console.error(\"Error posting data:\", error));\r\n\r\n      // Reset error message after successful submission\r\n      this.emailError = \"\";\r\n    },\r\n    isValidEmail() {\r\n      // Basic email validation\r\n      const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\r\n      return emailPattern.test(this.patient.patientEmail);\r\n    },\r\n    clearEmailError() {\r\n      this.emailError = \"\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"mappings":"AAgJA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE;QACPC,aAAa,EAAE;MACjB,CAAC;MACDC,UAAU,EAAE,EAAE;MACdC,QAAQ,EAAE;IACZ,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,UAAUA,CAAA,EAAG;MACX,IAAI,CAAC,IAAI,CAACC,YAAY,CAAC,CAAC,EAAE;QACxB,IAAI,CAACJ,UAAS,GAAI,qCAAqC;QACvD;MACF;MAEA,MAAMK,WAAU,GAAI;QAClBC,YAAY,EAAE,SAAS;QACvBC,IAAI,EAAE,CACJ;UACEC,GAAG,EAAE,UAAU;UACfC,MAAM,EAAE,IAAI,CAACX,OAAO,CAACY,aAAa;UAClCC,KAAK,EAAE,CAAC,IAAI,CAACb,OAAO,CAACc,YAAY;QACnC,CAAC,CACF;QACDC,MAAM,EAAE,IAAI,CAACf,OAAO,CAACC,aAAa;QAClCe,SAAS,EAAE,IAAI,CAAChB,OAAO,CAACiB,gBAAgB;QACxCC,OAAO,EAAE,CACP;UACEC,KAAK,EAAE,IAAI,CAACnB,OAAO,CAACoB,YAAY;UAChCV,GAAG,EAAE,QAAQ;UACbW,MAAM,EAAE;QACV,CAAC,EACD;UACEA,MAAM,EAAE,OAAO;UACfF,KAAK,EAAE,IAAI,CAACnB,OAAO,CAACsB;QACtB,CAAC,CACF;QACDC,OAAO,EAAE,CACP;UACEC,IAAI,EAAE,CAAC,IAAI,CAACxB,OAAO,CAACyB,cAAc,CAAC;UACnCC,IAAI,EAAE,UAAU;UAChBC,KAAK,EAAE,UAAU;UACjBC,UAAU,EAAE;QACd,CAAC;MAEL,CAAC;MAED,IAAI,CAACzB,QAAO,GAAI0B,IAAI,CAACC,SAAS,CAACvB,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC;;MAEpD;MACAT,KAAI,CACDiC,IAAI,CAAC,qCAAqC,EAAExB,WAAW,EACvDyB,IAAI,CAAEC,QAAQ,IAAK;QAClBC,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEF,QAAQ,CAAClC,IAAI,CAAC;QACvD,IAAI,CAACC,OAAM,GAAI;UACbC,aAAa,EAAE;QACjB,CAAC;MACH,CAAC,EACAmC,KAAK,CAAEC,KAAK,IAAKH,OAAO,CAACG,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC,CAAC;;MAEhE;MACA,IAAI,CAACnC,UAAS,GAAI,EAAE;IACtB,CAAC;IACDI,YAAYA,CAAA,EAAG;MACb;MACA,MAAMgC,YAAW,GAAI,kDAAkD;MACvE,OAAOA,YAAY,CAACC,IAAI,CAAC,IAAI,CAACvC,OAAO,CAACsB,YAAY,CAAC;IACrD,CAAC;IACDkB,eAAeA,CAAA,EAAG;MAChB,IAAI,CAACtC,UAAS,GAAI,EAAE;IACtB;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}